units:
  # editable
  angle: -15
  screw_size: 2.5
  tangent_distance: 2.5
  tab_circle_edge_thickness: 3
  foot_radius: 3
  # editable

  tangent_distance_formula: (screw_size + 0.5) + tangent_distance
  tab_circle_formula: (screw_size + 0.5) + tab_circle_edge_thickness
  tab_circle_cutout_formula: (screw_size + 0.5)
  foot_radius_formula: foot_radius - 1

points:
  zones:
    _:

outlines:
  plate_tab:
    - operation: stack
      what: polygon
      points:
        - shift: [0, 0]
        - shift: [0, foot_radius]
        - shift: [foot_radius, 0]
          orient: angle
        - shift: [tangent_distance_formula, 0]
          orient: 90
        - shift: [tab_circle_formula, 0]
          orient: -90
        - shift: [tab_circle_formula, 0]
          orient: -angle*2
        - shift: [tangent_distance_formula, 0]
          orient: -90
        - shift: [foot_radius, 0]
          orient: 90
        - shift: [foot_radius, 0]
          orient: angle - 90
    - operation: subtract
      what: circle
      radius: foot_radius
      where:
        shift: [0, foot_radius]
    - operation: subtract
      what: circle
      radius: foot_radius
      where:
        - shift: [0, foot_radius]
        - shift: [foot_radius, 0]
          orient: angle
        - shift: [tangent_distance_formula, 0]
          orient: 90
        - shift: [tab_circle_formula, 0]
          orient: -90
        - shift: [tab_circle_formula, 0]
          orient: -angle*2
        - shift: [tangent_distance_formula, 0]
          orient: -90
        - shift: [foot_radius, 0]
          orient: 90
    - operation: add
      what: circle
      radius: tab_circle_formula
      where:
        - shift: [0, foot_radius]
        - shift: [foot_radius, 0]
          orient: angle
        - shift: [tangent_distance_formula, 0]
          orient: 90
        - shift: [tab_circle_formula, 0]
          orient: -90
    - operation: subtract
      what: circle
      radius: tab_circle_cutout_formula
      where:
        - shift: [0, foot_radius]
        - shift: [foot_radius, 0]
          orient: angle
        - shift: [tangent_distance_formula, 0]
          orient: 90
        - shift: [tab_circle_formula, 0]
          orient: -90